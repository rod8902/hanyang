######################################################################
# makefile_%%IDLFileBaseName%%_%%archName%%
#
# (c) Copyright, Real-Time Innovations, 2012.  All rights reserved.
# No duplications, whole or partial, manual or electronic, may be made
# without express written permission.  Any such copies, or
# revisions thereof, must display this notice unaltered.
# This code contains trade secrets of Real-Time Innovations, Inc.
#
#
# This makefile was automatically generated by rtiddsgen.
#
# To compile, type:
# 	gmake -f makefile_%%IDLFileBaseName%%_%%archName%%
#
# Note: This makefile is only meant to build our example applications and
#       may require alterations to build on your system.
#
# Make sure that javac is in your path.
######################################################################

JAVAC_PATH = javac

JAVA_SOURCES = %%JavaSourceFiles%%

CLASS_FILES  = $(JAVA_SOURCES:%.java=%.class)

NDDS_CLASSPATH = $(NDDSHOME)/class/nddsjava%%libSuffix%%.jar
 
%.class : %.java
	$(JAVAC_PATH) %%compilerDebugFlag%% -classpath .:$(NDDS_CLASSPATH) $<
 
all: $(CLASS_FILES)
 
#
# Convenient way to run the java programs
#

export LD_LIBRARY_PATH := $(NDDSHOME)/lib/%%archName%%:/usr/lib/lwp:$(LD_LIBRARY_PATH)

%%ExampleType%%Publisher: %%ExampleTypeClassPath%%Publisher.class
	$(APOGEE_HOME)/lynx/ppc/ive/bin/j9 -jcl:found -Xbootclasspath:$(APOGEE_HOME)/common/ive/lib/jclFoundation/classes.zip -classpath .:$(NDDS_CLASSPATH) %%ExampleTypeClassPackage%%Publisher $(ARGS)
 
%%ExampleType%%Subscriber: %%ExampleTypeClassPath%%Subscriber.class
	$(APOGEE_HOME)/lynx/ppc/ive/bin/j9 -jcl:found -Xbootclasspath:$(APOGEE_HOME)/common/ive/lib/jclFoundation/classes.zip -classpath .:$(NDDS_CLASSPATH) %%ExampleTypeClassPackage%%Subscriber $(ARGS)
