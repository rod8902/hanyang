<?xml version="1.0"?>
<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../schema/rti_federation_service.xsd">

    
    <!-- ********************************************************************** -->
    <!-- ********************************************************************** -->

    <federation_service name="bridge_domain_0_and_domain_1">

        <annotation>
            <documentation>
                Routes all topics from domain 0 to domain 1 and the other way around
            </documentation>
        </annotation>

        <domain_route name="TwoWayDomainRoute">

            <participant_1>
                <domain_id>0</domain_id>
            </participant_1>
            
            <participant_2>
                <domain_id>1</domain_id>
            </participant_2>

            <session name="Session1">
                <auto_topic_route name="AllForward">
                    <publish_with_original_info>true</publish_with_original_info>
                    <input participant="1">
                        <allow_topic_name_filter>*</allow_topic_name_filter>
                        <allow_registered_type_name_filter>*</allow_registered_type_name_filter>
                        <creation_mode>ON_DOMAIN_AND_ROUTE_MATCH</creation_mode>
                    </input>
                    <output>
                        <allow_topic_name_filter>*</allow_topic_name_filter>
                        <allow_registered_type_name_filter>*</allow_registered_type_name_filter>
                        <creation_mode>ON_DOMAIN_AND_ROUTE_MATCH</creation_mode>
                    </output>
                </auto_topic_route>
            </session>

            <session name="Session2">
                <auto_topic_route name="AllBackward">
                    <publish_with_original_info>true</publish_with_original_info>
                    <input participant="2">
                        <allow_topic_name_filter>*</allow_topic_name_filter>
                        <allow_registered_type_name_filter>*</allow_registered_type_name_filter>
                        <creation_mode>ON_DOMAIN_AND_ROUTE_MATCH</creation_mode>
                    </input>
                    <output>
                        <allow_topic_name_filter>*</allow_topic_name_filter>
                        <allow_registered_type_name_filter>*</allow_registered_type_name_filter>
                        <creation_mode>ON_DOMAIN_AND_ROUTE_MATCH</creation_mode>
                    </output>
                </auto_topic_route>
            </session>
            
        </domain_route>
    </federation_service>   
</dds>

